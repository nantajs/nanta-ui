import{L as J,M as z,R as V,A as K,$ as W}from"./nanta.e148d026.js";import{d as $,k as C,a as u,b as s,w as l,e as g,m as H,F as b,r as f,o as r,a2 as D,A as d,a3 as v,J as N,Q as U,L as Q,_ as X}from"./index.c918b9e1.js";const q={1:"male",2:"female"},Z=[{field:"name",label:"Name",component:"Input",colProps:{span:8}},{field:"gender",label:"Gender",component:"Select",componentProps:{options:[{label:"male",value:1},{label:"female",value:2}]},colProps:{span:8}}],ee=[{field:"name",label:"Name",component:"Input",colProps:{span:24}},{field:"age",label:"Age",component:"InputNumber",colProps:{span:24}}],ae=[{title:"Name",dataIndex:"name",key:"name"},{title:"Age",dataIndex:"age",key:"age"},{title:"Email",dataIndex:"email",key:"email",helpMessage:"use email address."},{title:"Address",dataIndex:"address",key:"address"},{title:"Tags",key:"tags",dataIndex:"tags"},{title:"Gender",key:"gender",dataIndex:"gender",format:q}],ne=[{key:"1",name:"John Brown",age:32,email:"john.brown@gmail.com",address:"New York No. 1 Lake Park",tags:["nice","developer"],gender:1},{key:"2",name:"Jim Green",email:"jim.green@gmail.com",age:42,address:"London No. 1 Lake Park",tags:["loser"],gender:1},{key:"3",name:"Joe Black",age:32,email:"joe.black@gmail.com",address:"Sidney No. 1 Lake Park",tags:["cool","teacher"],gender:2},{key:"4",name:"Aborn Jiang",age:32,email:"aborn.jiang@gmail.com",address:"Shanghai China",tags:["coder","engineer"]},{key:"5",name:"Jack Gre",age:32,email:"jack.gre@gmail.com",address:"Hangzhou China",tags:["coder","engineer"]},{key:"6",name:"Kitty Hello",age:32,email:"he@gmail.com",address:"Berlin No. 991 Geek Park",tags:["coder","engineer"],gender:3},{key:"7",name:"Mike",age:32,email:"mike@gmail.com",address:"Paris No. 1 Lake Park",tags:["coder","engineer"]},{key:"8",name:"Cook",age:67,email:"cook@gmail.com",address:"Taipei No. 101 Tower",tags:["coder","engineer"]},{key:"9",name:"Jack Ma",age:42,email:"jack.ma@gmail.com",address:"Paris No. 1 Lake Park",tags:["coder","engineer"]},{key:"10",name:"Xu",age:10,email:"xu@gmail.com",address:"Nanjing No. 1 Golden Park",tags:["coder","engineer"]},{key:"11",name:"Google",age:33,email:"google@gmail.com",address:"Osaka No. 1 Lake Park",tags:["coder","engineer"]},{key:"12",name:"Orode100",age:100,email:"100@gmail.com",address:"London No. 1 Center Park",tags:["coder","engineer"]}];var i=(o=>(o[o.COPY_CREATE=1]="COPY_CREATE",o[o.CREATE=2]="CREATE",o[o.MODIFY=3]="MODIFY",o[o.DELETE=4]="DELETE",o[o.DOWNLOAD=5]="DOWNLOAD",o))(i||{});const oe={style:{"margin-bottom":"10px"}},le={key:1},te={key:1},se=$({__name:"index",setup(o){const t=C([]),m=C({copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}),F={schemas:ee,colon:!0};function P(e){const a=c=>!(!(e.gender&&(e.gender===1||e.gender===2))&&c.label==="Delete"),n=[{icon:"clarity:note-edit-line",label:"Edit",onClick:w.bind(null,e)},{icon:"ant-design:delete-outlined",color:"error",label:"Delete",onClick:B.bind(null,e)}];return n.forEach(c=>{c.ifShow=a}),n}function x(e){const a=e.map(n=>({key:n.articleid,name:n.title,age:n.id,email:n.space,address:n.desc.substring(0,10),tags:[n.tags],gender:1}));return console.log(a),a}const I={pageField:"page",sizeField:"pageSize",listField:"content",totalField:"totalElements"},[O,{updateTableDataRecord:R}]=J({title:"NantaTable Usage Example.",columns:ae,dataSource:ne,afterFetch:x,fetchSetting:I,actionColumn:{title:"\u64CD\u4F5C",dataIndex:"action",fixed:void 0},useSearchForm:!0,searchFormConfig:{labelWidth:120,schemas:Z,autoSubmitOnEnter:!0,submitButtonOptions:{text:"search"}}}),[M,{openModal:y,closeModal:L}]=z(),A=(e,a)=>{console.log("handle ok in outer event callback",e,a),R(a.key,e),L()},S=(e,a)=>{console.log("handle cancel in outer event callback",e,a)};function w(e){console.log("edit clicked!"),console.log(e),y(!0,{title:"Edit",record:e})}function B(e){console.log("delete action clicked!"),console.log(e)}function T(){console.log("copycreate"),t.value.length>0?p(t.value[0],i.COPY_CREATE):console.log("\u9009\u4E2D\u540E\u624D\u80FD\u4FEE\u6539")}function Y(){p(0,i.CREATE)}function G(){console.log("modify"),t.value.length>0?p(t.value[0],i.MODIFY):console.log("\u9009\u4E2D\u540E\u624D\u80FD\u4FEE\u6539")}function j(){console.log("delete",t)}const p=(e,a)=>{if(console.log("id",e,"type",a),a!=i.CREATE){if(a!=i.COPY_CREATE){if(a!=i.MODIFY)throw new Error("illegal type.")}}y(!0,{title:"Edit",record:{}})};return(e,a)=>{const n=f("a-button"),c=f("a-alert"),_=f("a-tag");return r(),u(b,null,[s(g(V),{onRegister:g(O)},{headerTop:l(()=>[D("div",oe,[s(n,{type:"primary",onClick:T,disabled:!m.value.copyEnabled,class:"button-s",preIcon:"ic:baseline-content-copy"},{default:l(()=>[d("Copy Create")]),_:1},8,["disabled"]),s(n,{type:"primary",onClick:Y,disabled:!m.value.createEnabled,class:"button-s",preIcon:"ic:baseline-plus"},{default:l(()=>[d("New")]),_:1},8,["disabled"]),s(n,{color:"success",type:"primary",onClick:G,disabled:!m.value.modifyEnabled,class:"button-s",preIcon:"ic:baseline-edit"},{default:l(()=>[d("Modify")]),_:1},8,["disabled"]),s(n,{type:"primary",danger:"",onClick:j,disabled:!m.value.deleteEnabled,class:"button-s",preIcon:"ic:baseline-delete"},{default:l(()=>[d("Delete")]),_:1},8,["disabled"])]),s(c,{type:"info","show-icon":""},{message:l(()=>[t.value.length>0?(r(),u(b,{key:0},[D("span",null,"\u5DF2\u9009\u4E2D"+v(t.value.length)+"\u6761\u8BB0\u5F55(\u53EF\u8DE8\u9875)",1),s(n,{type:"link",onClick:a[0]||(a[0]=E=>t.value=[]),size:"small"},{default:l(()=>[d("\u6E05\u7A7A")]),_:1})],64)):(r(),u("span",le,"\u672A\u9009\u4E2D\u4EFB\u4F55\u9879\u76EE"))]),_:1})]),bodyCell:l(({column:E,record:h})=>[E.key==="action"?(r(),N(g(W),{key:0,actions:P(h)},null,8,["actions"])):E.key==="tags"?(r(),u("span",te,[(r(!0),u(b,null,U(h.tags,k=>(r(),N(_,{key:k,color:k==="loser"?"volcano":k.length>5?"geekblue":"green"},{default:l(()=>[d(v(k.toUpperCase()),1)]),_:2},1032,["color"]))),128))])):Q("",!0)]),_:1},8,["onRegister"]),s(g(K),H({onRegister:g(M)},F,{onOk:A,onCancel:S}),null,16,["onRegister"])],64)}}});const de=X(se,[["__scopeId","data-v-5de2084d"]]);export{de as default};
