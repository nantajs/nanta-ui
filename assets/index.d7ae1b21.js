import{d as te,k as D,z as ae,q as R,r as h,o as d,c as f,e as c,w as o,a as _,u as l,D as b,f as r,F as E,t as F,x as O,V as ne,b as le,y as oe,B as se,m as z,L as A,_ as ce}from"./index.56de20b4.js";import{c as ie,d as de,s as re,e as ue,a as pe}from"./data.bd8fe148.js";import{A as u}from"./type.06f2b54d.js";const fe=k=>new Promise(n=>setTimeout(n,k*1e3)),be={style:{"margin-bottom":"10px"}},ge={key:1},me={key:1},ye=te({__name:"index",setup(k){const n=D([]),i=D({copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1});function w(e){const t=s=>!(!(e.gender&&(e.gender===1||e.gender===2))&&s.label==="Delete"),a=[{icon:"clarity:note-edit-line",label:"Edit",onClick:G.bind(null,e)},{icon:"ant-design:delete-outlined",color:"error",label:"Delete",onClick:H.bind(null,e)}];return a.forEach(s=>{s.ifShow=t}),a}function I(e){const t=e.map(a=>({key:a.articleid,name:a.title,age:a.id,email:a.space,address:a.desc.substring(0,10),tags:[a.tags],gender:1}));return console.log(t),t}const P={pageField:"page",sizeField:"pageSize",listField:"content",totalField:"totalElements"},[B,{updateTableDataRecord:C,deleteTableDataRecord:he,findTableDataRecord:v}]=ae({title:"NantaTable Usage Example.",columns:ie,dataSource:de,afterFetch:I,fetchSetting:P,actionColumn:{title:"Actions",dataIndex:"action",fixed:void 0},useSearchForm:!1,searchFormConfig:{labelWidth:120,schemas:re,autoSubmitOnEnter:!0,submitButtonOptions:{text:"search"}}}),N={schemas:ue,colon:!0,modalProps:{okText:"I'm sure.",cancelText:"Reject"}},[V,{openModal:x,closeModal:L,setModalProps:_e,changeLoading:M,changeOkLoading:S}]=R(),K={schemas:pe,colon:!0},Y=async(e,t)=>{console.log("handleOK in outer event callback",e,t),C(t.key,e),M(!0),S(!0),await fe(3),S(!1),M(!1)},U=(e,t)=>{console.log("handle cancel in outer event callback",e,t)},[j,{openModal:q,closeModal:Ee}]=R(),W=(e,t)=>{console.log("handleOK2 in outer event callback",e,t),C(t.key,e),L()},$=(e,t)=>{console.log("handle cancel in outer event callback",e,t)};function G(e){console.log("edit clicked!"),console.log(e),x(!0,{title:"Edit",record:e})}function H(e){console.log("delete action clicked!"),console.log(e)}function J(){if(console.log("copycreate"),n.value.length>0){const e=n.value[0],t=v(e);m(e,u.COPY_CREATE,t)}}function Q(){m(0,u.CREATE)}function X(){if(console.log("modify"),n.value.length>0){const e=n.value[0],t=v(e);m(e,u.MODIFY,t)}}function Z(){console.log("delete",n)}const m=(e,t,a)=>{console.log("id",e,"type",t);let s="Create";if(t==u.CREATE)s="Create";else if(t==u.COPY_CREATE)s="Copy create";else if(t==u.MODIFY)s="Modify";else throw new Error("illegal type.");const p={title:s,record:a||{}};t==u.CREATE?q(!0,p):x(!0,p)};function ee(e){console.log(e),n.value=e;const t=e.length;t<=0?i.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}:t==1?i.value={copyEnabled:!0,createEnabled:!0,modifyEnabled:!0,deleteEnabled:!0}:i.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!0}}return(e,t)=>{const a=h("a-button"),s=h("a-alert"),p=h("a-tag");return d(),f(E,null,[c(l(se),{onRegister:l(B),rowSelection:{type:"checkbox",selectedRowKeys:n.value,onChange:ee},clickToRowSelect:!1},{headerTop:o(()=>[_("div",be,[c(l(b),{type:"primary",onClick:J,disabled:!i.value.copyEnabled,class:"button-s",preIcon:"ic:baseline-content-copy"},{default:o(()=>[r("Copy create")]),_:1},8,["disabled"]),c(l(b),{type:"primary",onClick:Q,disabled:!i.value.createEnabled,class:"button-s",preIcon:"ic:baseline-plus"},{default:o(()=>[r("Create new")]),_:1},8,["disabled"]),c(l(b),{color:"success",type:"primary",onClick:X,disabled:!i.value.modifyEnabled,class:"button-s",preIcon:"ic:baseline-edit"},{default:o(()=>[r("Modify")]),_:1},8,["disabled"]),c(l(b),{type:"primary",danger:"",onClick:Z,disabled:!i.value.deleteEnabled,class:"button-s",preIcon:"ic:baseline-delete"},{default:o(()=>[r("Delete")]),_:1},8,["disabled"])]),c(s,{type:"info","show-icon":""},{message:o(()=>[n.value.length>0?(d(),f(E,{key:0},[_("span",null,"Selected "+F(n.value.length)+" items (pagination support.)",1),c(a,{type:"link",onClick:t[0]||(t[0]=y=>n.value=[]),size:"small"},{default:o(()=>[r("\u6E05\u7A7A")]),_:1})],64)):(d(),f("span",ge,"No items selected."))]),_:1})]),toolbar:o(()=>[_("div",null,[c(l(b),{type:"primary",class:"button-s"},{default:o(()=>[r(" Show details ")]),_:1})])]),bodyCell:o(({column:y,record:T})=>[y.key==="action"?(d(),O(l(ne),{key:0,actions:w(T)},null,8,["actions"])):y.key==="tags"?(d(),f("span",me,[(d(!0),f(E,null,le(T.tags,g=>(d(),O(p,{key:g,color:g==="loser"?"volcano":g.length>5?"geekblue":"green"},{default:o(()=>[r(F(g.toUpperCase()),1)]),_:2},1032,["color"]))),128))])):oe("",!0)]),_:1},8,["onRegister","rowSelection"]),c(l(A),z({onRegister:l(V)},N,{onOk:Y,onCancel:U}),null,16,["onRegister"]),c(l(A),z({onRegister:l(j)},K,{onOk:W,onCancel:$}),null,16,["onRegister"])],64)}}});const xe=ce(ye,[["__scopeId","data-v-66165e53"]]);export{xe as default};
