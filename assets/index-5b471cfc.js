import{d as te,m as M,q as se,n as ce,W as x,r as h,o as r,c as f,e as c,w as l,a as _,u as n,_ as b,f as d,F as P,t as D,A as I,Q as ie,b as re,B as de,X as me,v as w,z as T,k as ge}from"./index-b9301c9d.js";import{A as m}from"./type-1be1d189.js";import{s as ue}from"./sleep-d01c4b86.js";const pe=[{field:"name",label:"Name",component:"Input",colProps:{span:8}},{field:"gender",label:"Gender",component:"Select",componentProps:{options:[{label:"male",value:1},{label:"female",value:2}]},colProps:{span:8}}],ke=[{field:"id",label:"id",component:"Input",ifShow:!1,colProps:{span:24}},{field:"name",label:"Name",component:"Input",colProps:{span:24}},{field:"age",label:"Age",component:"InputNumber",colProps:{span:24}},{field:"email",label:"Email",component:"Input",colProps:{span:24}},{field:"gender",label:"Gender",component:"Select",componentProps:{options:[{label:"male",value:1},{label:"female",value:2}]},colProps:{span:12}},{field:"address",label:"address",component:"InputTextArea",colProps:{span:24}},{field:"tags",label:"Tags",component:"Select",colProps:{span:24},slot:"selectTag",placeholder:"Please input your tag and then press return."},{field:"date",label:"Date",component:"DatePicker",componentProps:{format:"YYYY/MM/DD"}},{field:"date2",label:"Date",component:"DatePicker",componentProps:{format:"YYYY-MM/DD"}},{field:"date3",label:"Date",component:"DatePicker",componentProps:{format:"YYYY:MM/DD"}}],fe=[{field:"name2",label:"Name2",component:"Input",colProps:{span:24}},{field:"age2",label:"Age2",component:"InputNumber",colProps:{span:24}}],be={1:"male",2:"female"},ye=[{label:"在职",value:1,key:"1"},{label:"离职",value:2,key:"2"},{label:"未知",value:0,key:"3"}],he=[{title:"姓名",dataIndex:"name",key:"name"},{title:"年龄",dataIndex:"age",key:"age"},{title:"邮件地址",dataIndex:"email",key:"email",helpMessage:"use email address."},{title:"家庭地址",dataIndex:"address",key:"address"},{title:"标签",key:"tags",dataIndex:"tags"},{title:"员工状态",key:"status",dataIndex:"status",format:ye},{title:"性别",key:"gender",dataIndex:"gender",format:be}],_e=[{key:"1",name:"John Brown",age:32,email:"john.brown@gmail.com",address:"New York No. 1 Lake Park",tags:["nice","developer"],status:1,gender:1},{key:"2",name:"Jim Green",email:"jim.green@gmail.com",age:42,address:"London No. 1 Lake Park",tags:["loser"],status:2,gender:1},{key:"3",name:"Joe Black",age:32,email:"joe.black@gmail.com",address:"Sidney No. 1 Lake Park Sidney No. 1 Lake Park Sidney No. 1 Lake Park Sidney No. 1 Lake Park Sidney No. 1 Lake Park Sidney No. 1 Lake ParkSidney No. 1 Lake Park ",tags:["cool","teacher"],gender:2},{key:"4",name:"Aborn Jiang",age:32,email:"aborn.jiang@gmail.com",address:"Shanghai China",tags:["coder","engineer"]},{key:"5",name:"Jack Gre",age:32,email:"jack.gre@gmail.com",address:"Hangzhou China",tags:["coder","engineer"]},{key:"6",name:"Kitty Hello",age:32,email:"he@gmail.com",address:"Berlin No. 991 Geek Park",tags:["coder","engineer"],gender:3},{key:"7",name:"Mike",age:32,email:"mike@gmail.com",address:"Paris No. 1 Lake Park",tags:["coder","engineer"]},{key:"8",name:"Cook",age:67,email:"cook@gmail.com",address:"Taipei No. 101 Tower",tags:["coder","engineer"]},{key:"9",name:"Jack Ma",age:42,email:"jack.ma@gmail.com",address:"Paris No. 1 Lake Park",tags:["coder","engineer"]},{key:"10",name:"Xu",age:10,email:"xu@gmail.com",address:"Nanjing No. 1 Golden Park",tags:["coder","engineer"]},{key:"11",name:"Google",age:33,email:"google@gmail.com",address:"Osaka No. 1 Lake Park",tags:["coder","engineer"]},{key:"12",name:"Orode100",age:100,email:"100@gmail.com",address:"London No. 1 Center Park",tags:["coder","engineer"]}],Pe={style:{"margin-bottom":"10px"}},Ce={key:1},ve={key:1},Ee=te({__name:"index",setup(Ne){const t=M([]),i=M({copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}),A=se(()=>i.value.modifyEnabled?"success":"");function L(e,a){return e.age>35}function Y(e){const a=s=>!(!(e.gender&&(e.gender===1||e.gender===2))&&s.label==="Delete"),o=[{icon:"clarity:note-edit-line",label:"Edit",onClick:U.bind(null,e)},{icon:"ant-design:delete-outlined",color:"error",label:"Delete",popConfirm:{title:"Are you sure to delete?",placement:"left",confirm:$.bind(null,e)}},{icon:"ic:baseline-api",label:"Detail",onClick:oe.bind(null,e)}];return o.forEach(s=>{s.ifShow=a}),o}function O(e){const a=e.map(o=>({key:o.articleid,name:o.title,age:o.id,email:o.space,address:o.desc.substring(0,10),tags:[o.tags],gender:1}));return console.log(a),a}const R={pageField:"page",sizeField:"pageSize",listField:"content",totalField:"totalElements"},[F,{updateTableDataRecord:C,deleteTableDataRecord:Se,findTableDataRecord:v,getSearchFieldsValue:G}]=ce({title:"基础表格使用示例.",columns:he,dataSource:_e,afterFetch:O,fetchSetting:R,actionColumn:{title:"Actions",dataIndex:"action",fixed:void 0},useSearchForm:!0,searchFormConfig:{labelWidth:120,schemas:pe,autoSubmitOnEnter:!0,submitButtonOptions:{text:"search"}},pagination:{showTotal:e=>`Now total count is ${e}.`}}),B={schemas:ke,colon:!0,modalProps:{okText:"I'm sure.",cancelText:"Reject"}},[j,{openModal:E,closeModal:z,setModalProps:Me,changeLoading:N,changeOkLoading:S}]=x(),J={schemas:fe,colon:!0},K=async(e,a)=>{console.log("handleOK in outer event callback",e,a),C(a.key,e),N(!0),S(!0),await ue(3),S(!1),N(!1)},V=(e,a)=>{console.log("handle cancel in outer event callback",e,a)},[H,{openModal:W,closeModal:xe}]=x(),X=(e,a)=>{console.log("handleOK2 in outer event callback",e,a),C(a.key,e),z()},q=(e,a)=>{console.log("handle cancel in outer event callback",e,a)};function Q(e){console.log("hand more clicked!",e)}function U(e){console.log("edit clicked!"),console.log(e);const a=G();console.log(a),E(!0,{title:"Edit",record:e})}function $(e){console.log("delete action clicked!"),console.log(e)}function Z(){if(console.log("copycreate"),t.value.length>0){const e=t.value[0],a=v(e);y(e,m.COPY_CREATE,a)}}function ee(){y(0,m.CREATE)}function ae(){if(console.log("modify"),t.value.length>0){const e=t.value[0],a=v(e);y(e,m.MODIFY,a)}}function oe(e){console.log("handle others",e)}function ne(){console.log("delete",t)}const y=(e,a,o)=>{console.log("id",e,"type",a);let s="Create";if(a==m.CREATE)s="Create";else if(a==m.COPY_CREATE)s="Copy create";else if(a==m.MODIFY)s="Modify";else throw new Error("illegal type.");const g={title:s,record:o||{}};a==m.CREATE?W(!0,g):E(!0,g)};function le(e){console.log(e),t.value=e;const a=e.length;a<=0?i.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}:a==1?i.value={copyEnabled:!0,createEnabled:!0,modifyEnabled:!0,deleteEnabled:!0}:i.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!0}}return(e,a)=>{const o=h("a-button"),s=h("a-alert"),g=h("a-tag");return r(),f(P,null,[c(n(me),{onRegister:n(F),rowSelection:{type:"checkbox",selectedRowKeys:t.value,onChange:le},rowClassName:(u,p)=>L(u)?"ant-table-row-highlight":null,clickToRowSelect:!1},{headerTop:l(()=>[_("div",Pe,[c(n(b),{type:"primary",onClick:Z,disabled:!i.value.copyEnabled,class:"button-s",preIcon:"ic:baseline-content-copy"},{default:l(()=>[d("复制新增")]),_:1},8,["disabled"]),c(n(b),{type:"primary",onClick:ee,disabled:!i.value.createEnabled,class:"button-s",preIcon:"ic:baseline-plus"},{default:l(()=>[d("新增")]),_:1},8,["disabled"]),c(n(b),{color:A.value,type:"primary",onClick:ae,disabled:!i.value.modifyEnabled,class:"button-s",preIcon:"ic:baseline-edit"},{default:l(()=>[d("修改")]),_:1},8,["color","disabled"]),c(n(b),{type:"primary",danger:"",onClick:ne,disabled:!i.value.deleteEnabled,class:"button-s",preIcon:"ic:baseline-delete"},{default:l(()=>[d("删除")]),_:1},8,["disabled"])]),c(s,{type:"info","show-icon":""},{message:l(()=>[t.value.length>0?(r(),f(P,{key:0},[_("span",null,"Selected "+D(t.value.length)+" items (pagination support.)",1),c(o,{type:"link",onClick:a[0]||(a[0]=u=>t.value=[]),size:"small"},{default:l(()=>[d("清空")]),_:1})],64)):(r(),f("span",Ce,"No items selected."))]),_:1})]),toolbar:l(()=>[_("div",null,[c(n(b),{type:"primary",class:"button-s"},{default:l(()=>[d(" Show details ")]),_:1})])]),bodyCell:l(({column:u,record:p})=>[u.key==="action"?(r(),I(n(ie),{key:0,actions:Y(p),dropDownActions:[{label:"More",popConfirm:{title:"has more ?",confirm:Q.bind(null,p)},ifShow:k=>p.status!=="enable"}]},null,8,["actions","dropDownActions"])):u.key==="tags"?(r(),f("span",ve,[(r(!0),f(P,null,re(p.tags,k=>(r(),I(g,{key:k,color:k==="loser"?"volcano":k.length>5?"geekblue":"green"},{default:l(()=>[d(D(k.toUpperCase()),1)]),_:2},1032,["color"]))),128))])):de("",!0)]),_:1},8,["onRegister","rowSelection","rowClassName"]),c(n(T),w({onRegister:n(j)},B,{onOk:K,onCancel:V}),null,16,["onRegister"]),c(n(T),w({onRegister:n(H)},J,{onOk:X,onCancel:q}),null,16,["onRegister"])],64)}}});const Te=ge(Ee,[["__scopeId","data-v-3400c7c0"]]);export{Te as default};
