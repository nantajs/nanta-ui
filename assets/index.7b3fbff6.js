import{d as ae,k as F,z as oe,q as R,r as _,o as r,c as f,e as c,w as n,a as k,u as o,D as b,f as d,F as E,t as A,x as O,V as ne,b as le,y as se,B as ce,m as z,L as w,_ as ie}from"./index.fd0d4c27.js";import{c as re,s as de,e as ue,a as pe}from"./data.096d4d14.js";import{c as fe,A as u}from"./axiosFetch.003ed8b7.js";const be=C=>new Promise(m=>setTimeout(m,C*1e3)),ge={style:{"margin-bottom":"10px"}},me={key:1},ye={key:1},he=ae({__name:"index",setup(C){const m="https://mock.data/api/mock/meta",l=F([]),i=F({copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1});function I(e){const t=s=>!(!(e.gender&&(e.gender===1||e.gender===2))&&s.label==="Delete"),a=[{icon:"clarity:note-edit-line",label:"Edit",onClick:H.bind(null,e)},{icon:"ant-design:delete-outlined",color:"error",label:"Delete",onClick:J.bind(null,e)}];return a.forEach(s=>{s.ifShow=t}),a}function P(e){const t=e.map(a=>({key:a.articleid,name:a.title,age:a.id,email:a.space,address:a.desc.substring(0,10),tags:[a.tags],gender:1}));return console.log(t),t}const B={pageField:"page",sizeField:"pageSize",listField:"content",totalField:"totalElements"},[N,{updateTableDataRecord:v,deleteTableDataRecord:_e,findTableDataRecord:x}]=oe({title:"NantaTable Usage Example.",columns:re,api:fe(m),afterFetch:P,fetchSetting:B,actionColumn:{title:"Actions",dataIndex:"action",fixed:void 0},useSearchForm:!1,searchFormConfig:{labelWidth:120,schemas:de,autoSubmitOnEnter:!0,submitButtonOptions:{text:"search"}}}),V={schemas:ue,colon:!0,modalProps:{okText:"I'm sure.",cancelText:"Reject"}},[L,{openModal:M,closeModal:K,setModalProps:ke,changeLoading:T,changeOkLoading:S}]=R(),Y={schemas:pe,colon:!0},U=async(e,t)=>{console.log("handleOK in outer event callback",e,t),v(t.key,e),T(!0),S(!0),await be(3),S(!1),T(!1)},j=(e,t)=>{console.log("handle cancel in outer event callback",e,t)},[q,{openModal:W,closeModal:Ee}]=R(),$=(e,t)=>{console.log("handleOK2 in outer event callback",e,t),v(t.key,e),K()},G=(e,t)=>{console.log("handle cancel in outer event callback",e,t)};function H(e){console.log("edit clicked!"),console.log(e),M(!0,{title:"Edit",record:e})}function J(e){console.log("delete action clicked!"),console.log(e)}function Q(){if(console.log("copycreate"),l.value.length>0){const e=l.value[0],t=x(e);y(e,u.COPY_CREATE,t)}}function X(){y(0,u.CREATE)}function Z(){if(console.log("modify"),l.value.length>0){const e=l.value[0],t=x(e);y(e,u.MODIFY,t)}}function ee(){console.log("delete",l)}const y=(e,t,a)=>{console.log("id",e,"type",t);let s="Create";if(t==u.CREATE)s="Create";else if(t==u.COPY_CREATE)s="Copy create";else if(t==u.MODIFY)s="Modify";else throw new Error("illegal type.");const p={title:s,record:a||{}};t==u.CREATE?W(!0,p):M(!0,p)};function te(e){console.log(e),l.value=e;const t=e.length;t<=0?i.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}:t==1?i.value={copyEnabled:!0,createEnabled:!0,modifyEnabled:!0,deleteEnabled:!0}:i.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!0}}return(e,t)=>{const a=_("a-button"),s=_("a-alert"),p=_("a-tag");return r(),f(E,null,[c(o(ce),{onRegister:o(N),rowSelection:{type:"checkbox",selectedRowKeys:l.value,onChange:te},clickToRowSelect:!1},{headerTop:n(()=>[k("div",ge,[c(o(b),{type:"primary",onClick:Q,disabled:!i.value.copyEnabled,class:"button-s",preIcon:"ic:baseline-content-copy"},{default:n(()=>[d("Copy create")]),_:1},8,["disabled"]),c(o(b),{type:"primary",onClick:X,disabled:!i.value.createEnabled,class:"button-s",preIcon:"ic:baseline-plus"},{default:n(()=>[d("Create new")]),_:1},8,["disabled"]),c(o(b),{color:"success",type:"primary",onClick:Z,disabled:!i.value.modifyEnabled,class:"button-s",preIcon:"ic:baseline-edit"},{default:n(()=>[d("Modify")]),_:1},8,["disabled"]),c(o(b),{type:"primary",danger:"",onClick:ee,disabled:!i.value.deleteEnabled,class:"button-s",preIcon:"ic:baseline-delete"},{default:n(()=>[d("Delete")]),_:1},8,["disabled"])]),c(s,{type:"info","show-icon":""},{message:n(()=>[l.value.length>0?(r(),f(E,{key:0},[k("span",null,"Selected "+A(l.value.length)+" items (pagination support.)",1),c(a,{type:"link",onClick:t[0]||(t[0]=h=>l.value=[]),size:"small"},{default:n(()=>[d("\u6E05\u7A7A")]),_:1})],64)):(r(),f("span",me,"No items selected."))]),_:1})]),toolbar:n(()=>[k("div",null,[c(o(b),{type:"primary",class:"button-s"},{default:n(()=>[d(" Show details ")]),_:1})])]),bodyCell:n(({column:h,record:D})=>[h.key==="action"?(r(),O(o(ne),{key:0,actions:I(D)},null,8,["actions"])):h.key==="tags"?(r(),f("span",ye,[(r(!0),f(E,null,le(D.tags,g=>(r(),O(p,{key:g,color:g==="loser"?"volcano":g.length>5?"geekblue":"green"},{default:n(()=>[d(A(g.toUpperCase()),1)]),_:2},1032,["color"]))),128))])):se("",!0)]),_:1},8,["onRegister","rowSelection"]),c(o(w),z({onRegister:o(L)},V,{onOk:U,onCancel:j}),null,16,["onRegister"]),c(o(w),z({onRegister:o(q)},Y,{onOk:$,onCancel:G}),null,16,["onRegister"])],64)}}});const Me=ie(he,[["__scopeId","data-v-806af0e1"]]);export{Me as default};
