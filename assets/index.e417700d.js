import{d as ae,v as R,A as le,T as S,r as _,o as u,c as g,e as i,w as s,a as y,u as o,O as p,f,F as C,t as T,x as F,E as te,b as ne,y as oe,I as se,m as I,s as w,_ as ce}from"./index.dbb8a48a.js";import{c as ie,d as re,s as de,e as ue,a as fe}from"./data.9dce3aae.js";var r=(l=>(l[l.COPY_CREATE=1]="COPY_CREATE",l[l.CREATE=2]="CREATE",l[l.MODIFY=3]="MODIFY",l[l.DELETE=4]="DELETE",l[l.DOWNLOAD=5]="DOWNLOAD",l))(r||{});const be=l=>new Promise(n=>setTimeout(n,l*1e3)),ge={style:{"margin-bottom":"10px"}},pe={key:1},Ee={key:1},me=ae({__name:"index",setup(l){const n=R([]),d=R({copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1});function P(e){const a=c=>!(!(e.gender&&(e.gender===1||e.gender===2))&&c.label==="Delete"),t=[{icon:"clarity:note-edit-line",label:"Edit",onClick:G.bind(null,e)},{icon:"ant-design:delete-outlined",color:"error",label:"Delete",onClick:H.bind(null,e)}];return t.forEach(c=>{c.ifShow=a}),t}function A(e){const a=e.map(t=>({key:t.articleid,name:t.title,age:t.id,email:t.space,address:t.desc.substring(0,10),tags:[t.tags],gender:1}));return console.log(a),a}const N={pageField:"page",sizeField:"pageSize",listField:"content",totalField:"totalElements"},[Y,{updateTableDataRecord:k,deleteTableDataRecord:he,findTableDataRecord:v}]=le({title:"NantaTable Usage Example.",columns:ie,dataSource:re,afterFetch:A,fetchSetting:N,actionColumn:{title:"Actions",dataIndex:"action",fixed:void 0},useSearchForm:!1,searchFormConfig:{labelWidth:120,schemas:de,autoSubmitOnEnter:!0,submitButtonOptions:{text:"search"}}}),L={schemas:ue,colon:!0,modalProps:{okText:"I'm sure.",cancelText:"Reject"}},[B,{openModal:O,closeModal:z,setModalProps:_e,changeLoading:D,changeOkLoading:M}]=S(),K={schemas:fe,colon:!0},V=async(e,a)=>{console.log("handleOK in outer event callback",e,a),k(a.key,e),D(!0),M(!0),await be(3),M(!1),D(!1)},W=(e,a)=>{console.log("handle cancel in outer event callback",e,a)},[U,{openModal:j,closeModal:ye}]=S(),$=(e,a)=>{console.log("handleOK2 in outer event callback",e,a),k(a.key,e),z()},q=(e,a)=>{console.log("handle cancel in outer event callback",e,a)};function G(e){console.log("edit clicked!"),console.log(e),O(!0,{title:"Edit",record:e})}function H(e){console.log("delete action clicked!"),console.log(e)}function J(){if(console.log("copycreate"),n.value.length>0){const e=n.value[0],a=v(e);m(e,r.COPY_CREATE,a)}}function Q(){m(0,r.CREATE)}function X(){if(console.log("modify"),n.value.length>0){const e=n.value[0],a=v(e);m(e,r.MODIFY,a)}}function Z(){console.log("delete",n)}const m=(e,a,t)=>{console.log("id",e,"type",a);let c="Create";if(a==r.CREATE)c="Create";else if(a==r.COPY_CREATE)c="Copy create";else if(a==r.MODIFY)c="Modify";else throw new Error("illegal type.");const b={title:c,record:t||{}};a==r.CREATE?j(!0,b):O(!0,b)};function ee(e){console.log(e),n.value=e;const a=e.length;a<=0?d.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}:a==1?d.value={copyEnabled:!0,createEnabled:!0,modifyEnabled:!0,deleteEnabled:!0}:d.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!0}}return(e,a)=>{const t=_("a-button"),c=_("a-alert"),b=_("a-tag");return u(),g(C,null,[i(o(se),{onRegister:o(Y),rowSelection:{type:"checkbox",selectedRowKeys:n.value,onChange:ee},clickToRowSelect:!1},{headerTop:s(()=>[y("div",ge,[i(o(p),{type:"primary",onClick:J,disabled:!d.value.copyEnabled,class:"button-s",preIcon:"ic:baseline-content-copy"},{default:s(()=>[f("Copy create")]),_:1},8,["disabled"]),i(o(p),{type:"primary",onClick:Q,disabled:!d.value.createEnabled,class:"button-s",preIcon:"ic:baseline-plus"},{default:s(()=>[f("Create new")]),_:1},8,["disabled"]),i(o(p),{color:"success",type:"primary",onClick:X,disabled:!d.value.modifyEnabled,class:"button-s",preIcon:"ic:baseline-edit"},{default:s(()=>[f("Modify")]),_:1},8,["disabled"]),i(o(p),{type:"primary",danger:"",onClick:Z,disabled:!d.value.deleteEnabled,class:"button-s",preIcon:"ic:baseline-delete"},{default:s(()=>[f("Delete")]),_:1},8,["disabled"])]),i(c,{type:"info","show-icon":""},{message:s(()=>[n.value.length>0?(u(),g(C,{key:0},[y("span",null,"Selected "+T(n.value.length)+" items (pagination support.)",1),i(t,{type:"link",onClick:a[0]||(a[0]=h=>n.value=[]),size:"small"},{default:s(()=>[f("\u6E05\u7A7A")]),_:1})],64)):(u(),g("span",pe,"No items selected."))]),_:1})]),toolbar:s(()=>[y("div",null,[i(o(p),{type:"primary",class:"button-s"},{default:s(()=>[f(" Show details ")]),_:1})])]),bodyCell:s(({column:h,record:x})=>[h.key==="action"?(u(),F(o(te),{key:0,actions:P(x)},null,8,["actions"])):h.key==="tags"?(u(),g("span",Ee,[(u(!0),g(C,null,ne(x.tags,E=>(u(),F(b,{key:E,color:E==="loser"?"volcano":E.length>5?"geekblue":"green"},{default:s(()=>[f(T(E.toUpperCase()),1)]),_:2},1032,["color"]))),128))])):oe("",!0)]),_:1},8,["onRegister","rowSelection"]),i(o(w),I({onRegister:o(B)},L,{onOk:V,onCancel:W}),null,16,["onRegister"]),i(o(w),I({onRegister:o(U)},K,{onOk:$,onCancel:q}),null,16,["onRegister"])],64)}}});const ve=ce(me,[["__scopeId","data-v-66165e53"]]);export{ve as default};
