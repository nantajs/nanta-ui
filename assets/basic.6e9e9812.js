import{G as L,v as S,a9 as U,M as D,N as H,O as T,P as G,aa as J,o as q,u as W,ab as Y,ac as Q,ad as P}from"./useModal.a1e0be06.js";import{_ as X}from"./NantaForm.vue_vue_type_script_setup_true_lang.9f85c4bf.js";import{u as Z}from"./useForm.f13971f1.js";import{b as o,A as K,d as E,g as z,c as V,h as F,w as d,e as r,o as c,m as ee,a as m,i as $,r as b,j as y,k as A,t as B,F as te,l as ne}from"./index.8c004d74.js";const ae=L({__name:"NantaModal",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Edit"}},emits:["register","ok","cancel"],setup(n,{emit:e}){const t=S(!1),l=S(null);S(null);function i(s){l.value=q(W(l)||{},s),Reflect.has(s,"visible")&&(t.value=!!s.visible)}const h={setModalProps:i,emitVisible:void 0},p=J();p&&e("register",h,p.uid);const C=s=>{e("ok",s)},k=s=>{t.value=!1,e("cancel",s)};return(s,O)=>{const _=U("a-modal");return D(),H(_,{visible:t.value,title:n.title,onOk:C,onCancel:k},{default:T(()=>[G(s.$slots,"default")]),_:3},8,["visible","title"])}}});var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};const le=oe;function R(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),l.forEach(function(i){se(n,i,t[i])})}return n}function se(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var I=function(e,t){var l=R({},e,t.attrs);return o(K,R({},l,{icon:le}),null)};I.displayName="SmileOutlined";I.inheritAttrs=!1;const re=I,ie=[{field:"id",label:"ID",component:"Input",show:!1},{field:"name",label:"Name",component:"Input",defaultValue:"nanta",required:!0,placeholder:"Please input user name."},{field:"email",label:"Email",component:"Input"},{field:"age",label:"Age",component:"InputNumber",defaultValue:1},{field:"tags",label:"Tags",component:"Input"},{field:"field2",component:"RadioGroup",label:"RadioGroup_2",required:!0,componentProps:{options:[{label:"Check_1",value:"v1"},{label:"Check_2",value:"v2"}]}},{field:"address",label:"Address",component:"InputTextArea"}],ce=E({__name:"BasicEditModal",emits:["register","ok","cancel"],setup(n,{emit:e}){const t=z(!0),l={showActionButtons:!1,colon:!0},i=V(()=>({...l})),[h,{setFieldsValue:p,updateSchema:C,resetFields:k,getFieldsValue:s,validateFields:O}]=Z({labelWidth:100,schemas:ie}),[_,{closeModal:u}]=Y(async a=>{k(),t.value=!!(a!=null&&a.isUpdate),console.log(a),a.record&&p(a.record)}),x=V(()=>r(t)?"Edit":"Create New"),f=async a=>{const w=await O();console.log(w),e("ok",a),u()},N=a=>{e("cancel",a)};return(a,w)=>(c(),F(r(ae),{onRegister:r(_),onOk:f,onCancel:N,title:r(x)},{default:d(()=>[o(r(X),ee({onRegister:r(h),onSubmit:f},r(i)),null,16,["onRegister"])]),_:1},8,["onRegister","title"]))}}),de={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ue=$("path",{fill:"currentColor",d:"M7 4V2h10v2h5v2h-2v15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6H2V4h5zM6 6v14h12V6H6zm3 3h2v8H9V9zm4 0h2v8h-2V9z"},null,-1),me=[ue];function pe(n,e){return c(),m("svg",de,me)}const _e={name:"ri-delete-bin6-line",render:pe},fe={style:{"margin-bottom":"1rem"}},ge={key:0},he={key:0},ke={key:1},ve={key:2},be=["onClick"],Me=E({__name:"basic",setup(n){const e=[{name:"Name",dataIndex:"name",key:"name"},{title:"Age",dataIndex:"age",key:"age"},{title:"Email",dataIndex:"email",key:"email"},{title:"Address",dataIndex:"address",key:"address"},{title:"Tags",key:"tags",dataIndex:"tags"},{title:"Action",key:"action"}],t=[{key:"1",name:"John Brown",age:32,email:"john.brown@gmail.com",address:"New York No. 1 Lake Park",tags:["nice","developer"]},{key:"2",name:"Jim Green",email:"jim.green@gmail.com",age:42,address:"London No. 1 Lake Park",tags:["loser"]},{key:"3",name:"Joe Black",age:32,email:"joe.black@gmail.com",address:"Sidney No. 1 Lake Park",tags:["cool","teacher"]}],[l,{openModal:i}]=Q(),h=()=>{console.log("basic modal show"),i(!0,{isUpdate:!1,record:null})},p=()=>{console.log("handle ok in outer event callback")},C=()=>{console.log("handle cancel in outer evnet callback")},k=u=>{console.log("id click deleted, ",u)},s=z(!1),O=()=>{console.log("showModal"),s.value=!0},_=u=>{console.log(u),i(!0,{isUpdate:!0,record:u})};return(u,x)=>{const f=b("a-button"),N=b("a-tag"),a=b("a-divider"),w=b("a-popconfirm"),j=b("a-table");return c(),m("div",null,[$("div",fe,[o(f,{type:"primary",onClick:h,style:{"margin-right":".5rem"}},{default:d(()=>[o(r(P),{icon:"uil:plus"}),y("Create New ")]),_:1}),o(f,{color:"success",type:"primary",onClick:_,style:{"margin-right":".5rem"}},{default:d(()=>[o(r(P),{icon:"uil:edit"}),y("Edit ")]),_:1})]),o(j,{columns:e,"data-source":t},{headerCell:d(({column:v})=>[v.key==="name"?(c(),m("span",ge,[o(r(re)),y(" Name ")])):A("",!0)]),bodyCell:d(({column:v,record:M})=>[v.key==="name"?(c(),m("a",he,B(M.name),1)):v.key==="tags"?(c(),m("span",ke,[(c(!0),m(te,null,ne(M.tags,g=>(c(),F(N,{key:g,color:g==="loser"?"volcano":g.length>5?"geekblue":"green"},{default:d(()=>[y(B(g.toUpperCase()),1)]),_:2},1032,["color"]))),128))])):v.key==="action"?(c(),m("span",ve,[$("a",{onClick:g=>_(M)},"Edit",8,be),o(a,{type:"vertical"}),o(w,{title:"Sure to delete?",onConfirm:g=>k(M.key)},{default:d(()=>[o(r(_e),{style:{color:"red",cursor:"pointer"}})]),_:2},1032,["onConfirm"])])):A("",!0)]),_:1}),o(f,{type:"primary",onClick:O},{default:d(()=>[y("Open Modal")]),_:1}),o(ce,{onRegister:r(l),onOk:p,onCancel:C},null,8,["onRegister"])])}}});export{Me as default};
