import{L as V,M as W,R as $,A as H,N as p,$ as K}from"./nanta.3fd9b1c2.js";import{d as U,k as v,a as m,b as r,w as t,e as s,m as Q,F as E,r as y,o as i,a2 as N,A as g,a3 as D,J as x,Q as X,L as q,_ as Z}from"./index.b12e352f.js";const ee={1:"male",2:"female"},ae=[{field:"name",label:"Name",component:"Input",colProps:{span:8}},{field:"gender",label:"Gender",component:"Select",componentProps:{options:[{label:"male",value:1},{label:"female",value:2}]},colProps:{span:8}}],ne=[{field:"name",label:"Name",component:"Input",colProps:{span:24}},{field:"age",label:"Age",component:"InputNumber",colProps:{span:24}}],le=[{title:"Name",dataIndex:"name",key:"name"},{title:"Age",dataIndex:"age",key:"age"},{title:"Email",dataIndex:"email",key:"email",helpMessage:"use email address."},{title:"Address",dataIndex:"address",key:"address"},{title:"Tags",key:"tags",dataIndex:"tags"},{title:"Gender",key:"gender",dataIndex:"gender",format:ee}],oe=[{key:"1",name:"John Brown",age:32,email:"john.brown@gmail.com",address:"New York No. 1 Lake Park",tags:["nice","developer"],gender:1},{key:"2",name:"Jim Green",email:"jim.green@gmail.com",age:42,address:"London No. 1 Lake Park",tags:["loser"],gender:1},{key:"3",name:"Joe Black",age:32,email:"joe.black@gmail.com",address:"Sidney No. 1 Lake Park",tags:["cool","teacher"],gender:2},{key:"4",name:"Aborn Jiang",age:32,email:"aborn.jiang@gmail.com",address:"Shanghai China",tags:["coder","engineer"]},{key:"5",name:"Jack Gre",age:32,email:"jack.gre@gmail.com",address:"Hangzhou China",tags:["coder","engineer"]},{key:"6",name:"Kitty Hello",age:32,email:"he@gmail.com",address:"Berlin No. 991 Geek Park",tags:["coder","engineer"],gender:3},{key:"7",name:"Mike",age:32,email:"mike@gmail.com",address:"Paris No. 1 Lake Park",tags:["coder","engineer"]},{key:"8",name:"Cook",age:67,email:"cook@gmail.com",address:"Taipei No. 101 Tower",tags:["coder","engineer"]},{key:"9",name:"Jack Ma",age:42,email:"jack.ma@gmail.com",address:"Paris No. 1 Lake Park",tags:["coder","engineer"]},{key:"10",name:"Xu",age:10,email:"xu@gmail.com",address:"Nanjing No. 1 Golden Park",tags:["coder","engineer"]},{key:"11",name:"Google",age:33,email:"google@gmail.com",address:"Osaka No. 1 Lake Park",tags:["coder","engineer"]},{key:"12",name:"Orode100",age:100,email:"100@gmail.com",address:"London No. 1 Center Park",tags:["coder","engineer"]}];var c=(n=>(n[n.COPY_CREATE=1]="COPY_CREATE",n[n.CREATE=2]="CREATE",n[n.MODIFY=3]="MODIFY",n[n.DELETE=4]="DELETE",n[n.DOWNLOAD=5]="DOWNLOAD",n))(c||{});const te={style:{"margin-bottom":"10px"}},se={key:1},re={key:1},de=U({__name:"index",setup(n){const o=v([]),d=v({copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}),P={schemas:ne,colon:!0};function F(e){const a=u=>!(!(e.gender&&(e.gender===1||e.gender===2))&&u.label==="Delete"),l=[{icon:"clarity:note-edit-line",label:"Edit",onClick:T.bind(null,e)},{icon:"ant-design:delete-outlined",color:"error",label:"Delete",onClick:Y.bind(null,e)}];return l.forEach(u=>{u.ifShow=a}),l}function I(e){const a=e.map(l=>({key:l.articleid,name:l.title,age:l.id,email:l.space,address:l.desc.substring(0,10),tags:[l.tags],gender:1}));return console.log(a),a}const O={pageField:"page",sizeField:"pageSize",listField:"content",totalField:"totalElements"},[R,{updateTableDataRecord:S}]=V({title:"NantaTable Usage Example.",columns:le,dataSource:oe,afterFetch:I,fetchSetting:O,actionColumn:{title:"\u64CD\u4F5C",dataIndex:"action",fixed:void 0},useSearchForm:!0,searchFormConfig:{labelWidth:120,schemas:ae,autoSubmitOnEnter:!0,submitButtonOptions:{text:"search"}}}),[M,{openModal:h,closeModal:L}]=W(),w=(e,a)=>{console.log("handle ok in outer event callback",e,a),S(a.key,e),L()},A=(e,a)=>{console.log("handle cancel in outer event callback",e,a)};function T(e){console.log("edit clicked!"),console.log(e),h(!0,{title:"Edit",record:e})}function Y(e){console.log("delete action clicked!"),console.log(e)}function B(){console.log("copycreate"),o.value.length>0?b(o.value[0],c.COPY_CREATE):console.log("\u9009\u4E2D\u540E\u624D\u80FD\u4FEE\u6539")}function G(){b(0,c.CREATE)}function j(){console.log("modify"),o.value.length>0?b(o.value[0],c.MODIFY):console.log("\u9009\u4E2D\u540E\u624D\u80FD\u4FEE\u6539")}function J(){console.log("delete",o)}const b=(e,a)=>{if(console.log("id",e,"type",a),a!=c.CREATE){if(a!=c.COPY_CREATE){if(a!=c.MODIFY)throw new Error("illegal type.")}}h(!0,{title:"Edit",record:{}})};function z(e){console.log(e),o.value=e;const a=e.length;a<=0?d.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!1}:a==1?d.value={copyEnabled:!0,createEnabled:!0,modifyEnabled:!0,deleteEnabled:!0}:d.value={copyEnabled:!1,createEnabled:!0,modifyEnabled:!1,deleteEnabled:!0}}return(e,a)=>{const l=y("a-button"),u=y("a-alert"),_=y("a-tag");return i(),m(E,null,[r(s($),{onRegister:s(R),rowSelection:{type:"checkbox",selectedRowKeys:o.value,onChange:z},clickToRowSelect:!1},{headerTop:t(()=>[N("div",te,[r(s(p),{type:"primary",onClick:B,disabled:!d.value.copyEnabled,class:"button-s",preIcon:"ic:baseline-content-copy"},{default:t(()=>[g("Copy create")]),_:1},8,["disabled"]),r(s(p),{type:"primary",onClick:G,disabled:!d.value.createEnabled,class:"button-s",preIcon:"ic:baseline-plus"},{default:t(()=>[g("Create new")]),_:1},8,["disabled"]),r(s(p),{color:"success",type:"primary",onClick:j,disabled:!d.value.modifyEnabled,class:"button-s",preIcon:"ic:baseline-edit"},{default:t(()=>[g("Modify")]),_:1},8,["disabled"]),r(s(p),{type:"primary",danger:"",onClick:J,disabled:!d.value.deleteEnabled,class:"button-s",preIcon:"ic:baseline-delete"},{default:t(()=>[g("Delete")]),_:1},8,["disabled"])]),r(u,{type:"info","show-icon":""},{message:t(()=>[o.value.length>0?(i(),m(E,{key:0},[N("span",null,"Selected "+D(o.value.length)+" items (pagination support.)",1),r(l,{type:"link",onClick:a[0]||(a[0]=f=>o.value=[]),size:"small"},{default:t(()=>[g("\u6E05\u7A7A")]),_:1})],64)):(i(),m("span",se,"No items selected."))]),_:1})]),bodyCell:t(({column:f,record:C})=>[f.key==="action"?(i(),x(s(K),{key:0,actions:F(C)},null,8,["actions"])):f.key==="tags"?(i(),m("span",re,[(i(!0),m(E,null,X(C.tags,k=>(i(),x(_,{key:k,color:k==="loser"?"volcano":k.length>5?"geekblue":"green"},{default:t(()=>[g(D(k.toUpperCase()),1)]),_:2},1032,["color"]))),128))])):q("",!0)]),_:1},8,["onRegister","rowSelection"]),r(s(H),Q({onRegister:s(M)},P,{onOk:w,onCancel:A}),null,16,["onRegister"])],64)}}});const ge=Z(de,[["__scopeId","data-v-8ef2b4f0"]]);export{ge as default};
