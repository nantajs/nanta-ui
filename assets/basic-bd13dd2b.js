import{l as c,d as V,m as F,n as y,u as t,W as B,r as S,o as U,c as N,e as p,w as d,K as T,q as G,T as w,_ as L}from"./index-88da504e.js";import{a as z}from"./axios-aba6f0e0.js";const i=z.create({timeout:8e3,headers:{"Content-Type":"application/json;charset=utf-8","Access-Control-Allow-Origin":"*"},withCredentials:!0});function j(e){return{list:l=>i({url:e.url,method:"get",params:l}),add:l=>i({url:e.url,method:"post",data:l}),update:l=>i({url:e.url,method:"put",data:l}),del:l=>i({url:e.url,method:"delete",data:l}),api:l=>!e.method||e.method==="get"?i({url:e.url,method:e.method?e.method:"get",params:l}):i({url:e.url,method:e.method,data:l})}}const{api:M}=j({url:"/api/mock/options",method:"get"}),_=e=>new Promise((l,u)=>{M(e).then(r=>{l(r.data)}).catch(r=>{console.error(r),u(r)})}),W=[{field:"id",label:"ID",component:"Input",show:!1},{field:"info",label:"信息",component:"Label",componentProps:{label:"纯信息展示用"}},{field:"name2",label:"Info",component:"Label"},{field:"homepage",label:"普通输入",component:"Input",colProps:{span:24},placeholder:"URL验证Case",rules:[{required:!0,validator:c.url,trigger:"change"}]},{field:"num",label:"数字输入",component:"InputNumber",colProps:{span:24},componentProps:{style:"width: 100%"},rules:[{required:!0,validator:c.notNegative,trigger:"change"}]},{field:"textV",label:"长度验证3-5字",component:"Input",colProps:{span:24},rules:[{required:!0,validator:c.len(3,5),trigger:"change"}]},{field:"textV3",label:"长度验证==3字",component:"Input",colProps:{span:24},rules:[{required:!0,validator:c.len(3,3),trigger:"change"}]},{field:"description",label:"描述信息",component:"InputTextArea",componentProps:{"auto-size":{minRows:2,maxRows:5}},placeholder:"Autosize height with minimum and maximum number of lines",colProps:{span:24},rules:[{required:!0,validator:c.notBlank,trigger:"change"}]},{field:"name",label:"联动示例",component:"Input",defaultValue:"nanta",required:!0,helpMessage:"User name.",placeholder:"当输入#时，地址栏变成必选",colProps:{span:12},componentProps:({formActionType:e})=>({onChange:l=>{const u=l.currentTarget.value;console.log("----value==",u);const{setFieldsValue:r,getFieldsValue:b,updateSchema:m}=e;m(u==="#"?{field:"address",rules:[{required:!0,validator:async(k,h)=>{if(!h)return Promise.reject("Address cannot be empty")}}]}:{field:"address",required:!1,rules:[]})}})},{field:"address",label:"地址",colProps:{span:12},component:"InputTextArea",placeholder:"自定义组件样式",componentProps:{style:"margin-top: 30px;"}},{field:"email",label:"Email",component:"Input",colProps:{lg:12,md:8},rules:[{required:!0,validator:c.email,trigger:"change",message:"邮件地址不正确！"}]},{field:"age",label:"年龄",component:"InputNumber",defaultValue:1,colProps:{span:12}},{field:"type",component:"Select",label:"Type",ifHideLabel:!0,colProps:{span:12},placeholder:"不显示Label示例",componentProps:{options:[{label:"Option1",value:"value_1",key:"1"},{label:"Option2",value:"value_2",key:"2"}]}},{field:"nickName",label:"Nick Name",required:!0,colProps:{span:12},component:"Input"},{field:"field1",component:"CheckboxGroup",label:"CheckboxGroup_1",colProps:{span:12},defaultValue:["v2","v1"],componentProps:{options:[{label:"Check_1",value:"v1"},{label:"Check_2",value:"v2"},{label:"Check_3",value:"v3"}]}},{field:"field2",component:"RadioGroup",label:"RadioGroup_2",required:!0,colProps:{span:12},componentProps:{options:[{label:"Check_1",value:"v1"},{label:"Check_2",value:"v2"}]}},{field:"field3",component:"Checkbox",label:"Checkbox_3",colProps:{span:12},renderComponentContent:"Check"},{field:"field4",component:"Switch",label:"Switch_4",colProps:{span:12}},{field:"field5",component:"RadioButtonGroup",label:"RadioButtonGroup_5",defaultValue:"B",colProps:{span:12},componentProps:{options:[{label:"Button_A",value:"A"},{label:"Button_B",value:"B"}]}},{field:"field6",component:"DatePicker",colProps:{span:12},label:"时间件"},{field:"tags",label:"Tags",colProps:{span:12},component:"Select",slot:"selectB",placeholder:"Please input your tag and then press return."},{field:"field7",component:"Select",label:"下拉多选",slot:"selectA",colProps:{span:12},placeholder:"Pls select mulit options.",componentProps:{options:[{label:"Option1",value:"value_1",key:"1"},{label:"Option2",value:"value_2",key:"2"},{label:"Option3",value:"value_3",key:"3"}]}},{field:"apiSelect",component:"ApiSelect",label:"懒加载远程下拉",required:!0,componentProps:{api:_,params:{id:1},resultField:"list",labelField:"name",valueField:"value",mode:"multiple",immediate:!0,onChange:e=>{console.log("selected:",e)},onOptionsChange:e=>{console.log("get options",e.length,e)}},colProps:{span:8},defaultValue:"jp"},{field:"field31",component:"Input",label:"下拉本地搜索",helpMessage:["ApiSelect组件","远程数据源本地搜索","只发起一次请求获取所有选项"],required:!0,slot:"localSearch",colProps:{span:8},defaultValue:"hk"},{field:"field32",component:"Input",label:"下拉远程搜索",helpMessage:["ApiSelect组件","将关键词发送到接口进行远程搜索"],required:!0,slot:"remoteSearch",colProps:{span:8},defaultValue:"us"}],D=V({__name:"basic",setup(e){const l=F(""),u=y(()=>({keyword:t(l)}));function r(n){l.value=n}const b=n=>{console.log("选中了:",n)},m=[{label:"Option1",value:"value_1",key:"1"},{label:"Option2",value:"value_2",key:"2"},{label:"Option3",value:"value_3",key:"3"}],P=F([]),[k,{setFieldsValue:h,updateSchema:E,resetFields:K,getFieldsValue:x,validateFields:H}]=B({submitButtonOptions:{text:"提交"},labelWidth:150,schemas:W,actionColOptions:{span:24}}),q=()=>{h({age:100,email:"aborn@aborn.me"})},A={resetFn:()=>{const n=x();return console.log(n),console.log("here is a customize resetFn called!"),h({age:0,email:"nanta-ui@nantajs.dev",name:"Nanta"}),new Promise((C,v)=>{try{C()}catch(g){v(g)}})},colon:!0},I=y(()=>({...A})),O=n=>{console.log("values",n),console.log("handleSubmit btn clicked!")},R=()=>{console.log("handleReset but click")};return(n,C)=>{const v=S("a-select"),g=S("a-card");return U(),N("div",null,[p(g,{title:"基础表单",bordered:!1},{default:d(()=>[p(t(T),G(t(I),{actionColOptions:{span:24},onRegister:t(k),onRegistered:q,onSubmit:O,onReset:R}),{selectA:d(({model:o,field:a,schema:s})=>[p(v,{options:m,mode:"multiple",value:o[a],"onUpdate:value":f=>o[a]=f,placeholder:s.placeholder,allowClear:""},null,8,["value","onUpdate:value","placeholder"])]),selectB:d(({model:o,field:a,schema:s})=>[p(v,{options:P.value,mode:"tags","token-separators":[","],value:o[a],"onUpdate:value":f=>o[a]=f,placeholder:s.placeholder,allowClear:""},null,8,["options","value","onUpdate:value","placeholder"])]),localSearch:d(({model:o,field:a})=>[p(t(w),{api:t(_),showSearch:"",value:o[a],"onUpdate:value":s=>o[a]=s,optionFilterProp:"label",resultField:"list",labelField:"name",mode:"multiple",valueField:"value",onChange:b},null,8,["api","value","onUpdate:value"])]),remoteSearch:d(({model:o,field:a})=>[p(t(w),{api:t(_),showSearch:"",value:o[a],"onUpdate:value":s=>o[a]=s,filterOption:!1,onChange:b,resultField:"list",labelField:"name",valueField:"value",params:t(u),onSearch:r},null,8,["api","value","onUpdate:value","params"])]),_:1},16,["onRegister"])]),_:1})])}}});const Y=L(D,[["__scopeId","data-v-742ecbde"]]);export{Y as default};
