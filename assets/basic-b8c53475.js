import{l as p,d as V,m as F,q as y,u as t,U as B,r as S,o as U,c as T,e as c,w as d,s as N,v as G,T as w,k as L}from"./index-bb970179.js";import{a as j}from"./axios-aba6f0e0.js";const u=j.create({timeout:8e3,headers:{"Content-Type":"application/json;charset=utf-8","Access-Control-Allow-Origin":"*"},withCredentials:!0});function z(e){return{list:l=>u({url:e.url,method:"get",params:l}),add:l=>u({url:e.url,method:"post",data:l}),update:l=>u({url:e.url,method:"put",data:l}),del:l=>u({url:e.url,method:"delete",data:l}),api:l=>!e.method||e.method==="get"?u({url:e.url,method:e.method?e.method:"get",params:l}):u({url:e.url,method:e.method,data:l})}}const{api:D}=z({url:"/api/mock/options",method:"get"}),P=e=>new Promise((l,i)=>{D(e).then(r=>{l(r.data)}).catch(r=>{console.error(r),i(r)})}),M=[{field:"id",label:"ID",component:"Input",show:!1},{field:"info",label:"信息",component:"Label",componentProps:{label:"纯信息展示用"}},{field:"name2",label:"Info",component:"Label"},{field:"homepage",label:"普通输入",component:"Input",colProps:{span:24},placeholder:"URL验证Case",rules:[{required:!0,validator:p.url,trigger:"change"}]},{field:"num",label:"数字输入",component:"InputNumber",colProps:{span:24},componentProps:{style:"width: 100%"},rules:[{required:!0,validator:p.notNegative,trigger:"change"}]},{field:"textV",label:"长度验证3-5字",component:"Input",colProps:{span:24},rules:[{required:!0,validator:p.len(3,5),trigger:"change"}]},{field:"textV3",label:"长度验证==3字",component:"Input",colProps:{span:24},rules:[{required:!0,validator:p.len(3,3),trigger:"change"}]},{field:"description",label:"描述信息",component:"InputTextArea",componentProps:{"auto-size":{minRows:2,maxRows:5}},placeholder:"Autosize height with minimum and maximum number of lines",colProps:{span:24},rules:[{required:!0,validator:p.notBlank,trigger:"change"}]},{field:"name",label:"联动示例",component:"Input",defaultValue:"nanta",required:!0,helpMessage:"User name.",placeholder:"当输入#时，地址栏变成必选",colProps:{span:12},componentProps:({formActionType:e})=>({onChange:l=>{const i=l.currentTarget.value;console.log("----value==",i);const{setFieldsValue:r,getFieldsValue:v,updateSchema:m}=e;m(i==="#"?{field:"address",rules:[{required:!0,validator:async(k,h)=>{if(!h)return Promise.reject("Address cannot be empty")}}]}:{field:"address",required:!1,rules:[]})}})},{field:"address",label:"地址",colProps:{span:12},component:"InputTextArea",placeholder:"自定义组件样式",componentProps:{style:"margin-top: 30px;"}},{field:"email",label:"Email",component:"Input",colProps:{lg:12,md:8},rules:[{required:!0,validator:p.email,trigger:"change",message:"邮件地址不正确！"}]},{field:"age",label:"年龄",component:"InputNumber",defaultValue:1,colProps:{span:12}},{field:"type",component:"Select",label:"Type",ifHideLabel:!0,colProps:{span:12},placeholder:"不显示Label示例",componentProps:{options:[{label:"Option1",value:"value_1",key:"1"},{label:"Option2",value:"value_2",key:"2"}]}},{field:"nickName",label:"Nick Name",required:!0,colProps:{span:12},component:"Input"},{field:"field1",component:"CheckboxGroup",label:"CheckboxGroup_1",colProps:{span:12},defaultValue:["v2","v1"],componentProps:{options:[{label:"Check_1",value:"v1"},{label:"Check_2",value:"v2"},{label:"Check_3",value:"v3"}]}},{field:"field2",component:"RadioGroup",label:"RadioGroup_2",required:!0,colProps:{span:12},componentProps:{options:[{label:"Check_1",value:"v1"},{label:"Check_2",value:"v2"}]}},{field:"field3",component:"Checkbox",label:"Checkbox_3",colProps:{span:12},renderComponentContent:"Check"},{field:"field4",component:"Switch",label:"开关",colProps:{span:12}},{field:"field5",component:"RadioButtonGroup",label:"RadioButtonGroup_5",defaultValue:"B",colProps:{span:12},componentProps:{options:[{label:"Button_A",value:"A"},{label:"Button_B",value:"B"}]}},{field:"fieldMonth",component:"MonthPicker",colProps:{span:12},label:"月份选择"},{field:"fieldWeek",component:"WeekPicker",colProps:{span:12},label:"周选择"},{field:"fieldDate",component:"DatePicker",colProps:{span:12},label:"日期选择"},{field:"fieldDate2",component:"DatePicker",colProps:{span:12},label:"日期+时间",componentProps:{showTime:!0}},{field:"fieldTime",component:"TimePicker",colProps:{span:12},label:"时间选择"},{field:"fieldTimeRange",component:"RangePicker",colProps:{span:12},label:"时间范围选择"},{field:"tags",label:"Tags",colProps:{span:12},component:"Select",slot:"selectB",placeholder:"Please input your tag and then press return."},{field:"field7",component:"Select",label:"下拉多选",slot:"selectA",colProps:{span:12},placeholder:"Pls select mulit options.",componentProps:{options:[{label:"Option1",value:"value_1",key:"1"},{label:"Option2",value:"value_2",key:"2"},{label:"Option3",value:"value_3",key:"3"}]}},{field:"apiSelect",component:"ApiSelect",label:"懒加载远程下拉",required:!0,componentProps:{api:P,params:{id:1},resultField:"list",labelField:"name",valueField:"value",mode:"multiple",immediate:!0,onChange:e=>{console.log("selected:",e)},onOptionsChange:e=>{console.log("get options",e.length,e)}},colProps:{span:8},defaultValue:"jp"},{field:"field31",component:"Input",label:"下拉本地搜索",helpMessage:["ApiSelect组件","远程数据源本地搜索","只发起一次请求获取所有选项"],required:!0,slot:"localSearch",colProps:{span:8},defaultValue:"hk"},{field:"field32",component:"Input",label:"下拉远程搜索",helpMessage:["ApiSelect组件","将关键词发送到接口进行远程搜索"],required:!0,slot:"remoteSearch",colProps:{span:8},defaultValue:"us"}],W=V({__name:"basic",setup(e){const l=F(""),i=y(()=>({keyword:t(l)}));function r(n){l.value=n}const v=n=>{console.log("选中了:",n)},m=[{label:"Option1",value:"value_1",key:"1"},{label:"Option2",value:"value_2",key:"2"},{label:"Option3",value:"value_3",key:"3"}],_=F([]),[k,{setFieldsValue:h,updateSchema:E,resetFields:H,getFieldsValue:x,validateFields:J}]=B({submitButtonOptions:{text:"提交"},labelWidth:150,schemas:M,actionColOptions:{span:24}}),R=()=>{h({age:100,email:"aborn@aborn.me"})},q={resetFn:()=>{const n=x();return console.log(n),console.log("here is a customize resetFn called!"),h({age:0,email:"nanta-ui@nantajs.dev",name:"Nanta"}),new Promise((C,b)=>{try{C()}catch(f){b(f)}})},colon:!0},A=y(()=>({...q})),I=n=>{console.log("values",n),console.log("handleSubmit btn clicked!")},O=()=>{console.log("handleReset but click")};return(n,C)=>{const b=S("a-select"),f=S("a-card");return U(),T("div",null,[c(f,{title:"基础表单",bordered:!1},{default:d(()=>[c(t(N),G(t(A),{actionColOptions:{span:24},onRegister:t(k),onRegistered:R,onSubmit:I,onReset:O}),{selectA:d(({model:o,field:a,schema:s})=>[c(b,{options:m,mode:"multiple",value:o[a],"onUpdate:value":g=>o[a]=g,placeholder:s.placeholder,allowClear:""},null,8,["value","onUpdate:value","placeholder"])]),selectB:d(({model:o,field:a,schema:s})=>[c(b,{options:_.value,mode:"tags","token-separators":[","],value:o[a],"onUpdate:value":g=>o[a]=g,placeholder:s.placeholder,allowClear:""},null,8,["options","value","onUpdate:value","placeholder"])]),localSearch:d(({model:o,field:a})=>[c(t(w),{api:t(P),showSearch:"",value:o[a],"onUpdate:value":s=>o[a]=s,optionFilterProp:"label",resultField:"list",labelField:"name",mode:"multiple",valueField:"value",onChange:v},null,8,["api","value","onUpdate:value"])]),remoteSearch:d(({model:o,field:a})=>[c(t(w),{api:t(P),showSearch:"",value:o[a],"onUpdate:value":s=>o[a]=s,filterOption:!1,onChange:v,resultField:"list",labelField:"name",valueField:"value",params:t(i),onSearch:r},null,8,["api","value","onUpdate:value","params"])]),_:1},16,["onRegister"])]),_:1})])}}});const Y=L(W,[["__scopeId","data-v-c087b369"]]);export{Y as default};
